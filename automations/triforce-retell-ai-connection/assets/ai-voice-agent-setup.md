# Ai Voice Agent Setup

Extracted notes from source PDF (AI Voice Agent Setup Guide along with Batch Calling (1).pdf). Edit for clarity if needed.

Here s
the
HR
AI
Voice
Agent
-
https://drive.google.com/file/d/1-qRSx1z3eqU36Qf0lMdm4pKduRwJVVXj/view?usp=sharing
Here s
the
Batch
Calling
n8n
Workflow
-
https://drive.google.com/file/d/1gkbQ1LTasnqRrbDuK5NnpX2QeMmWxnRE/view?usp=sharing
Here s
your
step-by-step
setup
guide
from
import
to
going
live:
STEP
1:
Log
in
to
Retell
AI
Console
Go
to
https://dashboard.retellai.com
.
Log
in
or
create
an
account
(if
you
haven t
already).
On
the
left
sidebar,
click
Voice
Agents
Create
/
Import
Agent
.
STEP
2:
Import
the
Agent
JSON
Click
on
Import
from
JSON
.
Upload
your
file:
Triforce
Intelligent
HR
Agent.json
.
Retell
will
automatically
parse
it
and
create
a
new
agent
with:
Name:
Triforce
Intelligent
HR
Agent
Voice:
11Labs
Monika
Flow
logic
(conversation
nodes)
Guardrails,
rules,
and
tone
all
set
If
it
throws
an
error,
it s
usually
due
to
version
mismatch
just
open
the
JSON
in
a
text
editor
and
confirm
that
"version":
8
aligns
with
Retell s
latest
conversation
flow
engine.
If
not,
you
can
re-export
after
saving
once.
STEP
3:
Connect
the
LLM
(Language
Model)
This
JSON
references
GPT-5
(under
model_choice
),
so
Retell
expects
OpenAI
API
access.
Inside
Retell:
1.
Go
to
Integrations
LLM
Providers
.
2.
Add
your
OpenAI
API
key
(or
custom
proxy
endpoint
if
you re
using
OpenRouter).
3.
In
your
agent
settings,
set
Response
Engine
GPT-5
or
GPT-4o-mini
(depending
on
your
tier).
4.
Save
changes.
STEP
4:
Configure
the
Voice
The
JSON
specifies:
voice_id
:
"11labs-Monika"
fallback_voice_ids
:
["openai-Sage"]
So,
you ll
need:
1.
Connect
ElevenLabs
in
Retell
under
Integrations
Voice
Providers
.
2.
Ensure
the
voice
ID
matches.
In
ElevenLabs,
find
Monika s
Voice
ID.
Paste
it
in
Retell s
Custom
Voice
ID
if
needed.
If
ElevenLabs
isn t
connected,
it ll
fall
back
to
OpenAI s
built-in
Sage
voice
fine
for
testing,
not
for
production.
None
None
STEP
5:
Add
a
Phone
Number
(Inbound/Outbound)
You ve
already
named
the
version
"V7
-
Adding
Inbound
Phone
Number"
,
so
here s
how
to
finalize
it:
Option
1
Use
Retell s
Built-in
Numbers:
Go
to
Calls
Phone
Numbers
Add
Number.
Pick
an
Indian
or
US
number.
Map
it
to
your
imported
agent
(
Triforce
Intelligent
HR
Agent
).
Option
2
Bring
Your
Own
(Nolarity,
Twilio,
etc.):
In
Retell,
navigate
to
Voice
Channels
WebSocket
/
SIP
Integration.
Use
the
WebSocket
endpoint
Retell
provides.
Connect
your
provider
(like
Nolarity
or
Exotel)
to
route
calls
to
that
Retell
endpoint.
For
example,
if
you re
using
Nolarity,
you ll
set:
WebSocket
URL:
wss://api.retellai.com/call
And
include
the
agent
ID
in
query
params
or
your
connection
payload.
STEP
6:
Add
Dynamic
Variables
from
CRM
/
n8n
Your
agent
expects
these
variables:
{{candidate_name}}
{{interview_date}}
{{interview_time}}
{{current_time}}
None
JSON
In
Retell:
Go
to
the
Conversation
Flow
Dynamic
Variables
section.
Map
them
to
API
or
webhook
inputs.
If
you re
using
n8n
to
trigger
calls:
Use
an
HTTP
node
to
make
a
POST
request
to:
https://api.retellai.com/v1/call/start
In
the
body,
send:
{
"agent_id":
"YOUR_AGENT_ID",
"variables":
{
"candidate_name":
"Rahul
Mehta",
"interview_date":
"Oct
18,
2025",
"interview_time":
"11:30
AM",
"current_time":
"2025-10-16T10:00:00+05:30"
},
"phone_number":
"+91XXXXXXXXXX"
}
This
will
trigger
the
AI
call,
dynamically
personalizing
the
conversation.
STEP
7:
Enable
Post-Call
Analysis
The
JSON
already
includes:
None
"post_call_analysis_model":
"gpt-4o-mini"
That
means
Retell
will
summarize
and
analyze
every
call
automatically.
You
can
view:
Transcripts
Key
insights
Candidate
data
(like
extracted
year_of_birth
,
why_candidate
,
etc.)
All
under
Analytics
Call
Logs
Analysis.
STEP
8:
Publish
the
Agent
Once
you ve
tested
all
nodes
and
integrations:
Click
Publish
Agent
.
Enable
Accept
incoming
calls
and
Allow
outbound
dials.
You
can
now
make
a
test
call
directly
from
the
Retell
dashboard
or
via
API.
STEP
9:
(Optional)
Automate
with
n8n
or
Zapier
Use
automation
to:
Feed
candidate
data
from
Google
Sheets
or
Naukri
into
Retell
Trigger
outbound
calls
Log
call
summaries
back
to
CRM
Basic
flow:
None
Google
Sheets
n8n
Retell
AI
(API)
Call
Return
Summary
Google
Sheet
STEP
10:
Test,
Tune,
and
Scale
Run
test
calls,
especially
to
check:
Tone
and
pacing
(adjust
responsiveness
and
interruption_sensitivity
)
Variable
replacements
Disqualification
logic
for
age
and
location
FAQ
responses
(add
a
Knowledge
Base
in
Retell
for
extra
Q&A
depth)
Once
it s
consistent,
you
can
run
it
in
production
calling
hundreds
of
candidates
a
day
like
a
tireless
HR
executive
with
infinite
coffee.
Quick
overview
what
this
workflow
does
1.
Read
candidate
rows
from
Google
Sheet.
2.
Loop
rows
in
small
batches.
3.
Call
Retell
API
to
create
outbound
phone
calls
for
each
candidate
(with
dynamic
variables).
4.
Wait,
poll
Retell
for
completed
calls
and
fetch
each
call s
detailed
analysis.
5.
Update
the
same
Google
Sheet
row
with
call
summary,
extracted
variables
(area,
year_of_birth,
etc.),
call
duration,
and
reasons.
Prerequisites
n8n
instance
(cloud
or
self-hosted)
with
access
to
run
workflows.
Google
account
with
OAuth
credentials
for
n8n
and
the
Google
Sheet.
Retell
API
key
with
permissions
to
create/list/get
calls.
A
published
Retell
agent
(agent_id)
your
Triforce
Intelligent
HR
Agent
.
A
phone
number
configured
in
Retell
for
from_number
(or
use
Retell s
default).
Basic
JSON
editing
tool
(VS
Code
or
plain
text
editor).
Spreadsheet
with
columns
matching
the
workflow
(see
below).
Google
Sheet
format
(what
your
sheet
must
contain)
Make
a
Sheet1
with
(at
minimum)
these
columns
(case
sensitive
they re
referenced
in
the
workflow):
Candidate
Name
Phone
Number
(E.164
preferred
like
+919876543210
your
workflow
strips
leading
character
in
mapping;
check
formatting)
Interview
Date
(human
readable,
e.g.,
Oct
18,
2025
)
Interview
Time
(e.g.,
11:30
AM
)
Optional
/
output
columns
(these
will
be
updated
by
workflow):
Disconnection
Reason
Call
Summary
Current
Area
Year
of
Birth
About
Candidate
Why
Candidate
Call
ID
Call
Duration
n8n
workflow
mapping
node-by-node
with
what
to
check/change
1.
Manual
Trigger
(
When
clicking
Execute
workflow
)
Use
for
manual
runs
and
tests.
Replace
with
a
cron/webhook
trigger
if
you
want
this
scheduled/automated.
2.
Get
row(s)
in
sheet
(Google
Sheets
node)
Credentials:
select
the
Google
OAuth
credentials
in
n8n
(the
workflow
shows
utsav mishra
account).
documentId
:
should
be
the
Google
Sheet
ID
(
1E_HTD0Um...IL8
)
confirm
you
share
the
sheet
with
the
OAuth
account
if
required.
sheetName
is
gid=0
in
your
JSON
ensure
it
matches
(or
use
Sheet1
).
3.
Loop
Over
Items
(
SplitInBatches
)
batchSize
:
currently
2
.
Controls
concurrent
calls.
Increase
to
speed
up
but
respect
Retell
/
phone
provider
rate
limits.
If
calls
fail
under
load,
reduce
batch
size
or
add
throttling.
4.
Wait
(first
Wait
node)
This
is
a
short
delay
before
sending
each
group
of
calls
adjust
amount:
10
minutes
or
use
a
smaller
delay
for
faster
feedback.
The
current
setup
waits
10
minutes
between
triggering
and
polling
decide
based
on
expected
call
length.
5.
Create
Phone
Call
(
HTTP
Request
to
Retell)
URL:
https://api.retellai.com/v2/create-phone-call
Authorization
header:
Bearer
key_...
replace
this
placeholder
with
your
real
Retell
API
key
and
keep
it
secret.
Body
JSON
(dynamic
fields):
{
"from_number":
"+18135345783",
"to_number":
"+{{
$json['Phone
Number']
}}",
"override_agent_id":
"agent_5191ea56780ad55a762a377377",
"retell_llm_dynamic_variables":
{
"candidate_name":
"{{
$json['Candidate
Name']
}}",
"interview_date":
"{{
$json['Interview
Date']
}}",
"interview_time":
"{{
$json['Interview
Time']
}}"
}
}
Action
items
Change
from_number
to
a
number
you
own/are
allowed
to
use.
Replace
override_agent_id
with
your
Retell
agent_id
.
Ensure
to_number
matches
the
sheet
phone
column
format.
If
your
Retell
API
uses
a
different
endpoint
path
for
your
org,
update
it.
6.
Wait1
(downstream
wait)
Small
pause
to
avoid
hammering
Retell
when
listing
calls.
Fine-tune
timing.
7.
Get
All
Calls
(
list-calls
)
POST
https://api.retellai.com/v2/list-calls
with
filter
criteria:
Filter
by
agent_id
and
direction:
["outbound"]
limit
set
high
(500)
OK
but
consider
paging
in
high-volume
situations.
8.
Fetch
Individual
Call
Data
(
GET
https://api.retellai.com/v2/get-call/{{
$json.call_id
}}
)
Pulls
full
call
details
including
collected_dynamic_variables
,
call_analysis
,
duration_ms
,
disconnection_reason
,
etc.
9.
Update
row
in
sheet
(Google
Sheets
node,
operation:
update
)
Mapping
uses
JS
expressions
to
select
the
correct
row
(matching
Phone
Number
)
and
writes
extracted
variables:
Call
Summary
{{
$json.call_analysis.call_summary
}}
Current
Area
{{
$json.collected_dynamic_variables.current_area
}}
Year
of
Birth
{{
$json.collected_dynamic_variables.year_of_birth
}}
Call
Duration
is
formatted
as
MM:SS
using
duration_ms
.
Action
items
Ensure
matchingColumns
contains
a
column
that
uniquely
identifies
a
row
(Phone
Number
often
works).
Confirm
formatting
of
phone
numbers
(if
the
Sheet
stores
+91xxxx
,
make
sure
matching
uses
the
same
string).
How
to
configure
and
run
step-by-step
1.
Import
the
JSON
into
n8n
In
n8n,
go
to
Workflows
Import
paste
the
JSON
you
provided.
Save
the
workflow.
2.
Set
credentials
Google
Sheets:
create
/
select
googleSheetsOAuth2Api
creds
and
grant
access
to
the
sheet.
HTTP
Request
nodes:
replace
every
Authorization:
Bearer
key_...
with
your
live
Retell
API
key.
Never
leave
keys
in
public
exports.
3.
Set
Retell
agent
&
numbers
Replace
override_agent_id
with
your
agent s
agent_XXXX
id
(from
Retell
dashboard).
Replace
from_number
with
a
verified
number
in
your
Retell
account
or
use
Retell s
default
if
allowed.
4.
Adjust
timing
Decide
how
long
calls
take
(10
min
wait
may
be
excessive).
For
quick
calls,
you
can
poll
after
1 3
minutes.
For
longer
flows,
wait
longer.
You
can
replace
polling
with
a
webhook
(recommended):
configure
Retell
to
POST
call-complete
events
to
an
n8n
webhook
to
avoid
polling
(see
Improvements
section).
5.
Test
with
a
small
dataset
Put
1 3
test
rows
in
your
Google
Sheet
with
your
own
phone
numbers
to
validate:
Variables
are
inserted
into
the
call.
Agent
speaks
the
candidate
name
and
flows
correctly.
Call
analysis
is
populated
back
into
the
sheet.
6.
Run
the
workflow
Manually
click
Execute
workflow
(or
switch
to
Active
and
use
Cron/Webhook
for
automated
runs).
Watch
executions
and
check
node
outputs
for
errors.
7.
Verify
results
Check
the
Google
Sheet
for
populated
call
fields.
Inspect
Retell
Dashboard
call
logs
for
transcripts,
audio,
and
post-call
analysis.
